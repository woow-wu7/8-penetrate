<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // accumulate 累积 堆积
      //【 accumulator 累积器 蓄电池 】
      // -
      // argument 参数 - 实参
      //【 parameter 参数 - 形参 】
      //【 multiple parameters. 多个参数 】
      //【 rest parameters. 其余参数 】
      // ---- multiple 多种 多个 倍数
      // -
      // accept 接收 接受 ----- 主动的
      // receive 接受 收到 ---- 被动
      // -
      //【 except for. 除了...外 】
      //【 be assigned to. 被分配给... 】
      // ---- 【 Except for 】 the first parameter, the 【 rest parameters 】【 are all assigned to 】 'recursion' function.
      // -
      //【 recursion 递归 n 】
      // ---- 【 Except for 】 the first parameter, the 【 rest parameters 】【 are all assigned to 】 'recursion' function.
      // -
      //【 as 当...的时候 】
      //【 report an error. 报错 】
      // ---- The 'reduce' function will 【 report an error 】 【 as 】 'rest' is an empty array.
      // ---- When 'rest' is an empty array, The 'reduce' function will 【 report an error 】.

      const curry = (fn, ...rest) => {
        const totalParameters = [];

        // The【 curring function 】 can 【 receive/accept 】【 multiple parameters 】.
        // --【 Except for 】 the first parameter, the 【 rest parameters 】【 are all assigned to 】 'recursion' function.
        if (rest.length) totalParameters.push(...rest);

        const recursion = (...rest) => {
          if (rest.length) totalParameters.push(...rest);
          return recursion;
        };

        recursion.calculate = () => fn(...totalParameters);

        return recursion;
      };

      // add
      // 1. The 'reduce' function will 【 report an error 】 【 as 】 'rest' is an empty array.
      // or When 'rest' is an empty array, The 'reduce' function will report an error.
      // But But we don't do optimization here.
      const add = (...rest) =>
        rest.reduce((accumulator, current) => accumulator + current);

      const fn = curry(add, 1, 2, 3)(4, 5)(6)()(7); // curry函数可以不传第二个，第三个...参数
      const result = fn.calculate();
      console.log("res: ", result);
    </script>
  </body>
</html>
