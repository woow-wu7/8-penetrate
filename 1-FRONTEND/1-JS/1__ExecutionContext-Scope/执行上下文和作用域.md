## 执行上下文 和 作用域 - Execution Context and Scope

[执行上下文 和 作用域](https://juejin.im/post/6844904046050934792)

```执行上下文
(一) 执行上下文
---

1
本质
- 执行上下文对象
- 执行上下文 本质上是一个 ( 对象 )


2
分类
- 全局执行上下文对象
- 函数执行上下文对象
- eval

3
全局执行上下文
- 形成时机：全局代码执行前
- 详细
  - 在 ( 全局代码 ) 执行前，将 ( window ) 确定为 ( 全局执行上下文对象 )
  - 对 ( 全局数据 ) 进行 预处理
    - 变量提升，函数提升，并将 全局变量和函数变量确定为window的属性
    - 将 this 指向 window

4
函数执行上下文
- 形成时机: ( 函数调用时 )，并且在 ( 执行函数体之前 )，( 创建 ) 函数执行上下文对象
- 区别
  - 全局执行上下文 和 函数执行上下文 形成时机的区别
    - 全局执行上下文是把window确定为全局执行上下文，之前window就存在 ------ 之前就存在
    - 函数执行上下文在函数调用并且函数体执行前，新创建的函数执行上下文对象 --- 新创建
- 详细
  - 在 ( 函数调用，并且函数体执行前 )，新 ( 创建 ) ( 函数执行上下文对象 )
  - 形参赋值为实参
  - 变量提升，函数名提升
  - arguments 对象赋值
  - this 赋值为该函数执行上下文对象
```

```作用域
(二) 作用域
---

1
定义和作用
- 定义：作用域 指 ( 变量或函数 ) 存在的范围
- 作用：隔离变量

2
分类 ( 3种 )
- 全局作用域 -- 变量在整个程序中一直存在，其他任何地方都可以访问
- 函数作用域 -- 只在函数中存在，外部无法访问
- 块级作用域

3
形成时机
- 函数作用域：在函数创建时形成

4
函数本身的作用域
- 函数本身也是一个变量，也有自己的作用域
- 函数本身的作用域是，函数声明时所在的作用域，与函数调用时所在的作用域无关

5
局部变量 和 全局变量
- 函数内部的变量，是局变量，函数外部无法访问；此时如果有同名的局部变量和全局变量，局部变量将覆盖全局变量
- 全局变量在函数内部可以访问，即其他任何地方都可以访问到全局变量
```

```作用域 和 执行上下文对象 的区别？
(三) 作用域 和 执行上下文对象 的区别？
- 形成时机
  - 函数作用域：是在 ( 函数创建 ) 时形成
  - 函数执行上下文：是在 ( 函数调用 )，并且 ( 函数体执行前 ) 新创建的
- 动态和静态
  - 函数作用域：是静态的，函数创建后就不会再变
  - 函数执行上下文：是动态的，函数调用函数体执行前创建，调用结束后释放
- 联系
  - ( 执行上下文对象 ) 是从属于所在的 ( 作用域 )
  - ( 全局执行上下文对象 ) 从属于 ( 全局作用域 )
  - ( 函数执行上下文对象 ) 从属于 ( 函数作用域 )
  - 因为只有函数存在，才会去创建函数执行上下文对象
```
