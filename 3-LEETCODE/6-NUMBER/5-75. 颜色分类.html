<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 75. 颜色分类

      // 题目
      // 给定一个包含红色、白色和蓝色、共 n 个元素的数组 nums ，原地对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。
      // 我们使用整数 0、 1 和 2 分别表示红色、白色和蓝色。
      // 必须在不使用库的sort函数的情况下解决这个问题。

      // 示例 1：
      // 输入：nums = [2,0,2,1,1,0]
      // 输出：[0,0,1,1,2,2]

      // 示例 2：
      // 输入：nums = [2,0,1]
      // 输出：[0,1,2]

      // 提示：
      // n == nums.length
      // 1 <= n <= 300
      // nums[i] 为 0、1 或 2

      // 进阶：
      // 你可以不使用代码库中的排序函数来解决这道题吗？
      // 你能想出一个仅使用常数空间的一趟扫描算法吗？

      /**
       * @param {number[]} nums
       * @return {void} Do not return anything, modify nums in-place instead.
       */

      // leetcode
      // https://leetcode.cn/problems/sort-colors/

      // 分析
      // - 这是 ( 荷兰国旗 ) 问题，因为是荷兰数学家最先提出的算法
      // - 快排 ( 三指针 )

      // 思考
      // - 每当我们遇到 ( 只有三种数字 ) 并且是和 ( 顺序相关 ) 的问题时，就要在脑子里浮现 ( 快排 )

      // 英语
      // swap 互换
      // switch 替换

      var sortColors = function (nums) {
        let l = 0;
        let r = nums.length - 1;
        let mid = 0;

        while (mid <= r) {
          if (nums[mid] === 0) {
            swap(mid, l);
            l++;
            mid++;
          } else if (nums[mid] === 1) {
            mid++;
          }
          // 其实这里可以直接 else，因为只有 012 三种数字
          else if (nums[mid] === 2) {
            swap(mid, r);
            r--;
            // 交换完只是前移了right，因为 2的部分有新的元素添加进来，right就需要--，保证right后面都是2
            // 注意: right-- 后，mid 并未移动，还会 ( 原地 ) 继续判断 nums[mid] 的三种情况，此时的 nums[mid] 是交换后的
          }
        }

        // 我们不开辟新的数据结构，没有新的内存消耗
        // - swap 是互换的意思
        // - switch 是替换的意思
        function swap(a, b) {
          const temp = nums[a];
          nums[a] = nums[b];
          nums[b] = temp;
        }

        return nums;
      };
    </script>
  </body>
</html>
