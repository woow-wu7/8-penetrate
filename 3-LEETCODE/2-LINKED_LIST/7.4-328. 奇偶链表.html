<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 328. 奇偶链表

      // 题目
      // 给定单链表的头节点 head ，将所有索引为奇数的节点和索引为偶数的节点分别组合在一起，然后返回重新排序的列表。
      // 第一个节点的索引被认为是 奇数 ， 第二个节点的索引为 偶数 ，以此类推。
      // 请注意，偶数组和奇数组内部的相对顺序应该与输入时保持一致。
      // !!!!!!!!!!!! 你必须在 O(1) 的额外空间复杂度和 O(n) 的时间复杂度下解决这个问题。
      // !!!!!!!!!!!! 你必须在 O(1) 的额外空间复杂度和 O(n) 的时间复杂度下解决这个问题。
      // !!!!!!!!!!!! 你必须在 O(1) 的额外空间复杂度和 O(n) 的时间复杂度下解决这个问题。
      // !!!!!!!!!!!! 你必须在 O(1) 的额外空间复杂度和 O(n) 的时间复杂度下解决这个问题。

      // 示例 1:
      // 输入: head = [1,2,3,4,5]
      // 输出: [1,3,5,2,4]

      // 示例 2:
      // 输入: head = [2,1,3,5,6,4,7]
      // 输出: [2,3,6,7,1,5,4]

      // 提示:
      // n ==  链表中的节点数
      // 0 <= n <= 104
      // -106 <= Node.val <= 106

      /**
       * Definition for singly-linked list.
       * function ListNode(val, next) {
       *     this.val = (val===undefined ? 0 : val)
       *     this.next = (next===undefined ? null : next)
       * }
       */
      /**
       * @param {ListNode} head
       * @return {ListNode}
       */

      // leetcode
      // https://leetcode.cn/problems/odd-even-linked-list/

      // 英语
      // odd 奇数
      // even 偶数

      // !!!!!!!!!!!! 你必须在 O(1) 的额外空间复杂度和 O(n) 的时间复杂度下解决这个问题。
      // !!!!!!!!!!!! 你必须在 O(1) 的额外空间复杂度和 O(n) 的时间复杂度下解决这个问题。

      // 思路
      // - 1. 遍历结束条件:
      //    - 因为: 无论链表的长度是 ( 奇数 或 偶数 )，( 偶数位遍历的次数 <= 奇数位遍历的次数 )，
      //    - 所以: 我们要用 偶数even作为遍历结束条件
      // - 2. 当遍历完成后，将 ( 奇数链表的尾节点 ) 指向 ( 偶数链表的头节点 ) 即可，所以我们要 ( 缓存偶数链表的头节点 )

      var oddEvenList = function (head) {
        if (!head || !head.next) return head; // 边界

        let odd = head; // 奇
        let even = (evenHead = head.next); // 偶

        // 以偶数为准，无论链表的长度是 ( 奇数 或 偶数 )，( 偶数位遍历的次数 <= 奇数位遍历的次数 )，
        while (even && even.next) {
          odd.next = odd.next.next;
          odd = odd.next; // 后移，后移时已经是 odd.next = odd.next.next 的了

          even.next = even.next.next;
          even = even.next;
        }

        // 拼接
        odd.next = evenHead;

        // 返回 奇链表的 头节点
        return head;
      };
    </script>
  </body>
</html>
