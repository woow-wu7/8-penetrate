<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 905. 按奇偶排序数组

      // 题目
      // 给你一个整数数组 nums，将 nums 中的的所有偶数元素移动到数组的前面，后跟所有奇数元素。
      // 返回满足此条件的 任一数组 作为答案。

      // 示例 1：
      // 输入：nums = [3,1,2,4]
      // 输出：[2,4,3,1]
      // 解释：[4,2,3,1]、[2,4,1,3] 和 [4,2,1,3] 也会被视作正确答案。

      // 示例 2：
      // 输入：nums = [0]
      // 输出：[0]

      /**
       * @param {number[]} nums
       * @return {number[]}
       */

      // leetcode
      // https://leetcode.cn/problems/sort-array-by-parity/

      // 对比
      // 905. 按奇偶排序数组 https://leetcode.cn/problems/sort-array-by-parity/
      // 剑指 Offer 21. 调整数组顺序使奇数位于偶数前面 https://leetcode.cn/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/
      // 922. 按奇偶排序数组 II https://leetcode.cn/problems/sort-array-by-parity-ii/

      // 思路
      // 1. 利用 ( 位运算符 & ) 来判断奇偶，因为 & 的效率比 % 高 -------- (n&1) === n%2
      // 2. 双指针遍历

      var sortArrayByParity = function (nums) {
        let left = 0;
        let right = nums.length - 1;

        while (left < right) {
          // 1
          // 处理 left
          // 偶数 后移left
          // 注意 & 运算符 和 === 运算符的优先，所以这里要加 () 提升优先级
          if ((nums[left] & 1) === 0) {
            left++;
            continue;
          }

          // 2
          // 处理 偶数
          // 奇数 前移right
          if ((nums[right] & 1) === 1) {
            right--;
            continue;
          }

          // left奇数，right偶数，交换
          // 交换后，不用 left++，right--，while右会走 if if 里面会移动指针
          [nums[left], nums[right]] = [nums[right], nums[left]];
        }

        // 经过以上步骤，返回的数组就是 左边偶数 右边奇数 的数组
        return nums;
      };

      // ------------------------------------------------------------------------------------------
      // ------------------------------------------------------------------------------------------
      // ------------------------------------------------------------------------------------------
      // ------------------------------------------------------------------------------------------
      // ------------------------------------------------------------------------------------------
      // ------------------------------------------------------------------------------------------
      // ------------------------------------------------------------------------------------------
      // 方法2
      var sortArrayByParity = function (nums) {
        let left = 0;
        let right = nums.length - 1;
        while (left < right) {
          if ((nums[left] & 1) === 1) {
            if ((nums[right] & 1) === 0) {
              [nums[left], nums[right]] = [nums[right], nums[left]];
              left++;
              right--;
            } else {
              right--;
            }
          } else {
            left++;
          }
        }
        return nums;
      };
    </script>
  </body>
</html>
